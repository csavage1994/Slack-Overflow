<div ng-include="'app/header.html'"></div>

<div id="posts-container">

  <div class="posts" ng-repeat="post in posts |
    orderBy:'-post.created':true |
    filter: searchFor |
    filter: (forumSelected || undefined) && { forum: forum }">
    <!-- filter: { forum: forum } -->
    <!-- filter: (!disableFilter || '') && filterExpression -->

    <a ui-sref="comments({post: post})">
      <h2 ng-bind="post.title"></h2></a>
      <p>
        <span ng-bind="post.author"></span> - <img class="smaller" ng-src="{{post.picture}}" /> -
        {{ TimeService.relativeDate(post.created) }}
        <span class="num-comments"> {{ numberOfComments[post._id] }} Comment{{ + numberOfComments[post._id] !== 1 ? 's' : '' }}</span>
      </p>
  </div>


  <div ng-if="showStack">
    <h5 class="stackoverflow">-------------------------------</h5>
    <h2 class="stackoverflow">Not finding what you are looking for from your peers? Check out <strong>stackoverflow</strong> like a pro!:</h2>
    <div class="stackoverflow">
        <input ng-model="stackSearch" placeholder="Filter stackoverflow questions" />
    </div>
    <div class="stackoverflow" ng-repeat="question in stackJSON | filter: stackSearch">
      
      <p><a href="{{question.link}}">{{question.title}}</a><p>
    </div>
  </div>

   <div class="stackoverflow" ng-show="showSadface">
    <h4><i class="fa fa-frown-o fa-5x fa-spin"> </i> sorry no answers on stackoverflow</h4> 
  </div>


<!-- sidebar begin: -->
  <div class="sidebar">
    <div class="search">
      <input ng-model="searchFor" placeholder="Search" />
    </div>

    <br />
  
  <div class="box">
    <div  class="forum">
      <div ng-show="forumSelected">
        {{ forum }}
      </div>
    </div>
  </div>
  <div class="box">
    <div class="forum questions-text">
      <div ng-hide="forumSelected">
        All Questions
      </div>
    </div>
  </div>

    <!-- a link to go back to all forums -->
    <div class="forums">
      <p>
        <a ng-click="forumDeselect()">All Questions</a>
      </p>
    </div>

    <div class="forums" ng-repeat="forum in forums">

      <p>
        <a ng-click="switchForum(forum); forumSelect(); getStackOverflowJSON(forum)">{{ forum }}</a>
      </p>
    </div>

  </div>
</div>
